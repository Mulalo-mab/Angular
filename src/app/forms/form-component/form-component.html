<div class="enrollment-container">
  <h1>Bootcamp Enrollment Form</h1>

  <!-- Success Message -->
  <div *ngIf="submitted" class="alert alert-success">
    <h3>Form Submitted Successfully!</h3>
    <p>Thank you for your enrollment. We'll contact you soon.</p>
    <button class="btn btn-secondary" (click)="submitted = false">Submit Another Form</button>
  </div>



  <form *ngIf="!submitted"
        #userForm="ngForm"
        class="enrollment-form"
        (ngSubmit)="onSubmit()"
        novalidate>



    <div class="form-group">
      <label>Name:</label>
      <input type="text"
             class="form-control"
             placeholder="Enter your full name"
             name="name"
             required
             minlength="3"
             [(ngModel)]="userModel.name"
             #name="ngModel"
             [class.is-invalid]="name.invalid && name.touched"
             [class.is-valid]="name.valid && name.touched" />
      <div *ngIf="name.invalid && name.touched" class="invalid-feedback">
        <small *ngIf="name.errors?.['required']">Name is required.</small>
        <small *ngIf="name.errors?.['minlength']">Name must be at least 3 characters.</small>
      </div>
    </div>


    <div class="form-group">
      <label>Email:</label>
      <input type="email"
             class="form-control"
             placeholder="Enter your email"
             name="email"
             required
             email
             [(ngModel)]="userModel.email"
             #email="ngModel"
             [class.is-invalid]="email.invalid && email.touched"
             [class.is-valid]="email.valid && email.touched" />
      <div *ngIf="email.invalid && email.touched" class="invalid-feedback">
        <small *ngIf="email.errors?.['required']">Email is required.</small>
        <small *ngIf="email.errors?.['email']">Please enter a valid email address.</small>
      </div>
    </div>


    <div class="form-group">
      <label>Phone:</label>
      <input type="tel"
             class="form-control"
             placeholder="Enter your phone number"
             name="phone"
             required
             pattern="^[0-9]{10}$"
             [(ngModel)]="userModel.phone"
             #phone="ngModel"
             [class.is-invalid]="phone.invalid && phone.touched"
             [class.is-valid]="phone.valid && phone.touched" />
      <div *ngIf="phone.invalid && phone.touched" class="invalid-feedback">
        <small *ngIf="phone.errors?.['required']">Phone number is required.</small>
        <small *ngIf="phone.errors?.['pattern']">Phone must be 10 digits.</small>
      </div>
    </div>

    <div class="form-group">
      <label>I am interested in:</label>
      <select class="custom-select"
              name="topic"
              required
              [(ngModel)]="userModel.topic"
              #topic="ngModel"
              [class.is-invalid]="topic.invalid && topic.touched"
              [class.is-valid]="topic.valid && topic.touched">
        <option value="" disabled>Select a topic</option>
        <option *ngFor="let topic of topics">{{ topic }}</option>
      </select>
      <div *ngIf="topic.invalid && topic.touched" class="invalid-feedback">
        <small>Please select a topic.</small>
      </div>
    </div>

    <div class="form-group">
      <label>Time Preference:</label>
      <div class="form-check">
        <input class="form-check-input"
               type="radio"
               name="timePreference"
               value="morning"
               required
               [(ngModel)]="userModel.timePreference"
               #timePreference="ngModel" />
        <label class="form-check-label">Morning (9AM - 12PM)</label>
      </div>
      <div class="form-check">
        <input class="form-check-input"
               type="radio"
               name="timePreference"
               value="evening"
               required
               [(ngModel)]="userModel.timePreference" />
        <label class="form-check-label">Evening (5PM - 8PM)</label>
      </div>
      <div *ngIf="timePreference.invalid && userForm.submitted" class="invalid-feedback">
        <small>Please select a time preference.</small>
      </div>
    </div>

    <div class="form-group form-check">
      <input class="form-check-input"
             type="checkbox"
             name="subscribe"
             [(ngModel)]="userModel.subscribe" />
      <label class="form-check-label">Send me promotional offers</label>
    </div>

    <button class="btn btn-primary"
            type="submit"
            [disabled]="userForm.invalid">
      Submit Form
    </button>

  </form>
</div>
