<div class="main-grid-container">
  <ag-grid-angular class="ag-theme-alpine main-athletes-grid"
                   style="height: 500px; width: 100%;"
                   [rowData]="rowData"
                   [columnDefs]="columnDefs"
                   [defaultColDef]="defaultColDef"
                   [gridOptions]="gridOptions"
                   theme="legacy">
  </ag-grid-angular>
</div>




<div class="modal-backdrop" *ngIf="showSelectionModal" (click)="closeSelectionModal()"></div>

<div class="selection-modal" *ngIf="showSelectionModal">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">
        <span *ngIf="currentEditingRow">
          Selection for {{ currentEditingRow.athlete }} - {{ currentEditingRow.sport }}
        </span>
        <span *ngIf="!currentEditingRow">Select Option</span>
      </h5>
      <button type="button" class="close-btn" (click)="closeSelectionModal()">&times;</button>
    </div>

    <div class="modal-body">
      <!-- Search Filter -->
      <div class="form-group">
        <label></label>
        <input type="text"
               class="form-control search-input"
               placeholder="Type to search..."
               #searchInput
               (input)="onSearchFilterChange(searchInput.value)">
      </div>

      <!-- AG-Grid for the list -->
      <div class="ag-grid-container">
        <ag-grid-angular class="ag-theme-alpine selection-grid"
                         [rowData]="filteredSelectionItems"
                         [columnDefs]="selectionColDefs"
                         [defaultColDef]="selectionDefaultColDef"
                         [rowSelection]="'single'"
                         (selectionChanged)="onSelectionChanged($event)"
                         (rowDoubleClicked)="onRowDoubleClicked($event)"
                         [suppressCellFocus]="true"
                         theme="legacy"
                         style="height: 300px; width: 100%;">
        </ag-grid-angular>
      </div>

      <!-- Selected Item Preview
  <div class="selected-preview" *ngIf="selectedGridItem">
    <h6>Selected:</h6>
    <div class="preview-card">
      <strong>{{ selectedGridItem.list }}</strong>
      <br>
      <small class="text-muted">{{ selectedGridItem.code }}</small>
      <br>
      <span>{{ selectedGridItem.description }}</span>
    </div>
  </div> -->
    </div>

    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="closeSelectionModal()">Close</button>
      <button type="button"
              class="btn btn-primary"
              (click)="confirmSelection()"
              [disabled]="!selectedGridItem">
        Select & Apply
      </button>
    </div>
  </div>
</div>
