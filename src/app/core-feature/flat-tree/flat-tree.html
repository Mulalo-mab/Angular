<div class="tree-container">
  <div class="controls">
    <h3>Company Department Structure</h3>
    <button mat-raised-button (click)="expandAll()" style="margin-right: 10px;">
      <mat-icon>unfold_more</mat-icon>
      Expand All
    </button>
    <button mat-raised-button (click)="collapseAll()" style="margin-right: 10px;">
      <mat-icon>unfold_less</mat-icon>
      Collapse All
    </button>
    <button mat-raised-button (click)="explainStructure()">
      <mat-icon>info</mat-icon>
      Explain Structure
    </button>
  </div>

  <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="company-tree">
    <!-- This is the tree node template for leaf nodes -->
    <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
      <button mat-icon-button disabled></button>
      <div class="node-content">
        <span class="node-name">{{node.Name}}</span>
        <span class="node-details">
          <span class="department">{{node.Department}}</span>
          <span class="employee-count">{{node.EmployeeCount}} employees</span>
          <span class="node-id">ID: {{node.ID}}</span>
        </span>
      </div>
    </mat-tree-node>

    <!-- This is the tree node template for expandable nodes -->
    <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding>
      <button mat-icon-button
              [attr.aria-label]="'Toggle ' + node.Name"
              matTreeNodeToggle>
        <mat-icon class="mat-icon-rtl-mirror">
          {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
        </mat-icon>
      </button>
      <div class="node-content">
        <span class="node-name">{{node.Name}}</span>
        <span class="node-details">
          <span class="department">{{node.Department}}</span>
          <span class="employee-count">{{node.EmployeeCount}} employees</span>
          <span class="node-id">ID: {{node.ID}}</span>
        </span>
      </div>
    </mat-tree-node>
  </mat-tree>

  
</div>
